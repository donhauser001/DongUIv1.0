# 组件设置系统

## 📚 概述

组件设置系统已经完成模块化重构，将原来的单一大文件拆分成多个独立的子组件，每个子组件负责特定类型组件的样式配置。

## 🗂️ 文件结构

```
views/admin/dev/components/
├── ComponentSettings.vue          # 主入口（路由器）
└── settings/
    ├── ButtonInputSettings.vue    # 按钮和输入框设置
    ├── FormSettings.vue           # 表单元素设置
    ├── CardSettings.vue           # 卡片设置
    ├── TagSettings.vue            # 标签设置
    ├── ModalSettings.vue          # 模态窗设置
    └── NotificationSettings.vue   # 提示组件设置
```

## ✅ 已完成的组件

### 1. **按钮与输入框** (ButtonInputSettings.vue)
**包含内容**：
- 主要按钮（Primary Button）
- 次要按钮（Outline Button）
- 单行文本输入框（Text Input）
- 多行文本框（Textarea）
- 富文本编辑器（Rich Text Editor）

**可配置项**：
- 尺寸：高度、圆角、内边距
- 颜色：背景、文字、边框（正常/悬停/禁用状态）
- 特殊：富文本编辑器工具栏样式

### 2. **表单元素** (FormSettings.vue)
**包含内容**：
- 下拉框（Select）
- 复选框（Checkbox）
- 单选框（Radio）
- 开关（Switch）

**可配置项**：
- 下拉框：高度、圆角、边框、颜色
- 复选框：大小、圆角、选中/未选中颜色
- 单选框：大小、边框、选中圆点颜色
- 开关：宽度、高度、开/关背景色、滑块颜色

### 3. **卡片** (CardSettings.vue)
**包含内容**：
- 基础卡片样式
- 悬停效果

**可配置项**：
- 尺寸：圆角、内边距、边框宽度
- 阴影：正常阴影、悬停阴影
- 颜色：背景、边框、标题、内容、悬停边框

### 4. **标签** (TagSettings.vue)
**包含内容**：
- 默认标签（Default）
- 成功标签（Success）
- 警告标签（Warning）
- 危险标签（Danger）

**可配置项**：
- 大小：小、标准、大
- 圆角：无、小、标准、全圆角
- 颜色：背景、文字、边框（每种类型独立配置）

### 5. **模态窗** (ModalSettings.vue)
**包含内容**：
- 模态窗主体
- 遮罩层
- 阴影效果

**可配置项**：
- 尺寸：默认尺寸（小/标准/大/超大）、圆角、内边距
- 颜色：背景、标题、内容
- 遮罩：颜色、透明度
- 阴影：阴影效果

### 6. **提示组件** (NotificationSettings.vue)
**包含内容**：
- Toast 提示（浮动通知）
- Alert 警告（页面内提示）
- Message 消息（消息框）

**可配置项**：
- Toast：位置、圆角、内边距、颜色（正常/成功/错误）
- Alert：圆角、内边距、边框、颜色（信息/成功/警告/错误）
- Message：圆角、内边距、背景、文字、边框颜色

## 🎨 主题配置 (theme.ts)

所有组件的配置已添加到 `config/theme.ts`：

```typescript
export const themeConfig = reactive({
  // ... 现有配置 ...
  
  // 表单元素
  form: {
    select: { /* 下拉框配置 */ },
    checkbox: { /* 复选框配置 */ },
    radio: { /* 单选框配置 */ },
    switch: { /* 开关配置 */ },
  },
  
  // 卡片
  card: { /* 卡片配置 */ },
  
  // 标签
  tag: {
    default: { /* 默认标签 */ },
    success: { /* 成功标签 */ },
    warning: { /* 警告标签 */ },
    danger: { /* 危险标签 */ },
  },
  
  // 模态窗
  modal: { /* 模态窗配置 */ },
  
  // 提示组件
  notification: {
    toast: { /* Toast 配置 */ },
    alert: { /* Alert 配置 */ },
    message: { /* Message 配置 */ },
  },
})
```

## 🔄 待完成任务

### 1. 更新 `utils/theme.ts`
需要在 `applyTheme` 函数中添加新组件的 CSS 变量应用逻辑：

```typescript
// 需要添加：
// - 表单元素变量 (--select-*, --checkbox-*, --radio-*, --switch-*)
// - 卡片变量 (--card-*)
// - 标签变量 (--tag-default-*, --tag-success-*, --tag-warning-*, --tag-danger-*)
// - 模态窗变量 (--modal-*)
// - 提示组件变量 (--toast-*, --alert-*, --message-*)
```

### 2. 更新 `style.css`
需要添加新组件的基础样式类：

```css
/* 需要添加的样式类 */
.select-base { /* 下拉框基础样式 */ }
.checkbox-base { /* 复选框基础样式 */ }
.radio-base { /* 单选框基础样式 */ }
.switch-base { /* 开关基础样式 */ }
.card-base { /* 卡片基础样式 */ }
.tag-default, .tag-success, .tag-warning, .tag-danger { /* 标签样式 */ }
.modal-base { /* 模态窗样式 */ }
.toast-base, .alert-base, .message-base { /* 提示组件样式 */ }
```

## 💡 使用方法

### 在组件画廊中使用

1. 进入 **开发管理 / 组件画廊**
2. 点击左侧菜单的 **"基础控件"**
3. 选择要配置的组件类型：
   - 🔘 按钮与输入框
   - 📝 表单元素
   - 🎴 卡片
   - 🏷️ 标签
   - 🪟 模态窗
   - 🔔 提示组件
4. 在左侧调整配置，右侧实时预览效果
5. 点击 **"保存配置"** 应用到全局

### 在代码中使用

```vue
<template>
  <!-- 使用配置好的按钮 -->
  <button class="btn-primary">主要按钮</button>
  <button class="btn-outline">次要按钮</button>
  
  <!-- 使用配置好的输入框 -->
  <input type="text" class="input-base" placeholder="输入内容" />
  <textarea class="textarea-base" placeholder="多行输入"></textarea>
  
  <!-- 使用配置好的表单元素 -->
  <select class="select-base">
    <option>选项 1</option>
  </select>
  
  <label class="checkbox-label">
    <input type="checkbox" class="checkbox-base" />
    <span>复选框</span>
  </label>
  
  <!-- 使用配置好的卡片 -->
  <div class="card-base">
    <h4 class="card-title">卡片标题</h4>
    <p class="card-content">卡片内容</p>
  </div>
  
  <!-- 使用配置好的标签 -->
  <span class="tag-success">成功</span>
  <span class="tag-warning">警告</span>
  
  <!-- 使用配置好的模态窗 -->
  <div class="modal-overlay">
    <div class="modal-base">
      <div class="modal-header">标题</div>
      <div class="modal-body">内容</div>
      <div class="modal-footer">底部</div>
    </div>
  </div>
  
  <!-- 使用配置好的提示 -->
  <div class="toast-base">Toast 提示</div>
  <div class="alert-base alert-success">成功提示</div>
  <div class="message-base">消息框</div>
</template>
```

## 🎯 设计原则

1. **模块化**：每个组件类型独立文件，便于维护
2. **可配置**：所有样式属性都可通过 UI 配置
3. **实时预览**：左侧配置，右侧即时看到效果
4. **类型安全**：使用 TypeScript 确保配置正确
5. **响应式**：使用 Vue 3 的 reactive 系统
6. **CSS 变量**：通过 CSS 变量实现动态主题

## 📊 配置项统计

| 组件类型 | 子类型数量 | 可配置项数量 | 文件大小 |
|---------|-----------|-------------|---------|
| 按钮与输入框 | 5 | 50+ | ~600 行 |
| 表单元素 | 4 | 30+ | ~400 行 |
| 卡片 | 1 | 12+ | ~200 行 |
| 标签 | 4 | 16+ | ~250 行 |
| 模态窗 | 1 | 12+ | ~250 行 |
| 提示组件 | 3 | 20+ | ~350 行 |
| **总计** | **18** | **140+** | **~2050 行** |

## 🚀 下一步计划

1. ✅ 完成 `utils/theme.ts` 的 CSS 变量应用
2. ✅ 完成 `style.css` 的基础样式类
3. 🔄 测试所有组件的配置和预览
4. 🔄 编写组件使用文档
5. 🔄 添加更多预设主题方案

---

**最后更新**：2024-01-XX  
**维护者**：开发团队

